<info course="course" class="col-md-12"></info>
<div class="col-md-12 sub-menu">
	<div class="col-md-4"><a href="#/css" class="btn btn-purple"><< Back to CSS</a></div>
	<div class="col-md-4 text-center"><a class="btn btn-danger col-md-12" ng-click="exportAll()">Export All Headers</a></div>
</div>
<div class="col-md-12 headers">

	<div class="col-md-12 uploads">
		<div class="col-md-4 text-center">
			<h3><small>Upload Logo</small></h3>
			<input class="btn btn-primary upload-logo" type="file" value="Upload" accept="image/*" />
		</div>
		<div class="col-md-4 text-center">
			<h3><small>Upload Background</small></h3>
			<input class="btn btn-primary upload-bg" type="file" value="Upload" accept="image/*" />
		</div>
		<div class="col-md-4 text-center">
			<h3><small>Gradient Colors</small></h3>
			<div colorpicker="hex" colorpicker-size="150" colorpicker-with-input="true" ng-model="params.gradient.color1" class="palette-box" ng-style="{ background : params.gradient.color1 }"></div>
			<div colorpicker="hex" colorpicker-size="150" colorpicker-with-input="true" ng-model="params.gradient.color2" class="palette-box" ng-style="{ background : params.gradient.color2 }"></div>
		</div>
	</div>

	<!-- <div class="col-md-12">
		<div class="coupon-bg cr-viewport">
			<div class="logo" id="coupon-logo">
				<img ng-src="[[headerLogo]]" ng-style="applyShadow(params.logo.shadow)" />
			</div>
		</div>
  </div> -->


  <div class="email-bg croppie-container col-md-12">
		<div class="header-logo" id="email-logo">
			<img ng-src="[[headerLogo]]" ng-style="shadowStyle.logo" />
		</div>
		<div class="header-address" id="email-address">
			[[course.address1 ? (course.address1 +' • '+ course.address2 +' • '+ course.phone) : '2714 Kelly Lane • Pflugerville, TX 78660 • 512-251-9000']]
		</div>
  </div>

	<div class="controls">
		<a class="btn btn-default pull-right img-result" ng-click="preview()"><span class="glyphicon glyphicon-eye-open"></span></a>
	</div>

	<div class="col-md-5">
		<div class = "btn-group">
		   <button type="button" class="btn btn-default" style="margin-right:0"  ng-click="toggleShadow('logo')">Toggle Logo Shadow</button>

		   <button type="button" class="btn btn-default dropdown-toggle shadow-sliders-settings">
		      <span class="glyphicon glyphicon-cog"></span>
		      <span class="sr-only">Toggle Logo Settings</span>
		   </button>

			 <div class="shadow-sliders dropdown-menu">
	 			<table class="table">
	 				<tr>
	 					<td>Color</td>
	 					<td><div><div colorpicker="rgba" colorpicker-size="150" ng-model="params.logo.shadow.color" class="palette-box pull-left" ng-style="{background : params.logo.shadow.color}"></div>
	 					<input type="text" colorpicker="rgba" colorpicker-size="150" ng-model="params.logo.shadow.color" placeholder="RGBA"/></div></td>
	 				</tr>
	 				<tr>
	 					<td>Offset X</td>
	 					<td><rzslider rz-slider-model="params.logo.shadow.offsetX" rz-slider-options="params.logo.shadow.options"></rzslider></td>
	 				</tr>
	 				<tr>
	 					<td>Offset Y</td>
	 					<td><rzslider rz-slider-model="params.logo.shadow.offsetY" rz-slider-options="params.logo.shadow.options"></rzslider></td>
	 				</tr>
	 				<tr>
	 					<td>Blur</td>
	 					<td><rzslider rz-slider-model="params.logo.shadow.blur" rz-slider-options="{ floor: 0, ceil: 10, showSelectionBar: true, disabled: params.logo.shadow.options.disabled  }"></rzslider></td>
	 				</tr>
	 				<tr>
	 					<td>Spread</td>
	 					<td><rzslider rz-slider-model="params.logo.shadow.spread" rz-slider-options="{ floor: 1, ceil: 10, showSelectionBar: true, disabled: params.logo.shadow.options.disabled }"></rzslider></td>
	 				</tr>
	 			</table>
	 		</div>
		</div>
	</div>

	<div class="col-md-5">
		<div class = "btn-group">
		   <button type="button" class="btn btn-default" style="margin-right:0"  ng-click="toggleShadow('address')">Toggle Address Shadow</button>

		   <button type="button" class="btn btn-default dropdown-toggle shadow-sliders-settings">
		      <span class="glyphicon glyphicon-cog"></span>
		      <span class = "sr-only">Toggle Address Settings</span>
		   </button>

			 <div class="shadow-sliders dropdown-menu">
	 			<table class="table">
	 				<tr>
	 					<td>Color</td>
	 					<td><div><div colorpicker="hex" colorpicker-size="150" ng-model="params.address.color" class="palette-box pull-left" ng-style="{background : params.address.color}"></div>
	 					<input type="text" colorpicker="hex" colorpicker-size="150" ng-model="params.address.color" placeholder="#HEX"/></div></td>
	 				</tr>
	 				<tr>
	 					<td>Size</td>
	 					<td><rzslider rz-slider-model="params.address.size" rz-slider-options="params.address.options"></rzslider></td>
	 				</tr>
					<tr>
	 					<td>Shadow Color</td>
	 					<td><div><div colorpicker="rgba" colorpicker-size="150" ng-model="params.address.shadow.color" class="palette-box pull-left" ng-style="{background : params.address.shadow.color}"></div>
	 					<input type="text" colorpicker="rgba" colorpicker-size="150" ng-model="params.address.shadow.color" placeholder="RGBA"/></div></td>
	 				</tr>
	 				<tr>
	 					<td>Shadow Blur</td>
	 					<td><rzslider rz-slider-model="params.address.shadow.blur" rz-slider-options="params.address.shadow.options"></rzslider></td>
	 				</tr>
	 				<tr>
	 					<td>Shadow Spread</td>
	 					<td><rzslider rz-slider-model="params.address.shadow.spread" rz-slider-options="params.address.shadow.options"></rzslider></td>
	 				</tr>
	 			</table>
	 		</div>
		</div>
	</div>

	<br /><br />
	<div class="canvases">
		<canvas id="canvas"></canvas><br />
		<canvas id="logo-canvas"></canvas><br />
		<canvas id="address-canvas"></canvas><br />
		<canvas id="bg-canvas"></canvas>
	</div>
</div>
<div class="col-md-12">
	<svg id="svg-logo" height="175" width="600">
		<defs>
			<filter id="logo-filter" x="-50%" y="-50%" width="200%" height="200%">
				<feFlood result="flood" flood-color="[[params.logo.shadow.color]]" flood-opacity="1"></feFlood>
				<feComposite in="flood" result="mask" in2="SourceGraphic" operator="in" />
				<feOffset in="mask" result="offset"  dx="[[params.logo.shadow.offsetX]]" dy="[[params.logo.shadow.offsetY]]" />
				<feGaussianBlur in="offset" result="blurred" ng-stddeviation="[[params.logo.shadow.blur]]" />
				<feComponentTransfer>
						<feFuncA type="gamma" exponent="0.5" amplitude="[[params.logo.shadow.spread]]" in="blurred" result="blurred2" />
				</feComponentTransfer>
				<feMerge>
		        <feMergeNode in="blurred2"></feMergeNode>
		        <feMergeNode in="SourceGraphic"></feMergeNode>
		    </feMerge>
			</filter>
		</defs>
		<image xlink:href="https://www.coursetrends.com/golf/designs/comal/images/design/logo.png" id="svg-logo-image" filter="url(#[[svg.logo.filter]])" x="0" y="0" />
	</svg>

	<svg id="svg-address" height="175" width="600">
		<defs>
			<filter id="address-filter" x="-50%" y="-50%" width="200%" height="200%">
				<feFlood result="flood" flood-color="[[params.address.shadow.color]]" flood-opacity="1"></feFlood>
				<feComposite in="flood" result="mask" in2="SourceGraphic" operator="in" />
				<feOffset in="mask" result="offset"  dx="[[params.address.shadow.offsetX]]" dy="[[params.address.shadow.offsetY]]" />
				<feGaussianBlur in="offset" result="blurred" ng-stddeviation="[[params.address.shadow.blur]]" />
				<feComponentTransfer>
						<feFuncA type="gamma" exponent="0.5" amplitude="[[params.address.shadow.spread]]" in="blurred" result="blurred2" />
				</feComponentTransfer>
				<feMerge>
		        <feMergeNode in="blurred2"></feMergeNode>
		        <feMergeNode in="SourceGraphic"></feMergeNode>
		    </feMerge>
			</filter>
		</defs>
		<text x="250" y="150" font-family="Verdana" font-size="[[params.address.size]]" ng-style="{color: 'blue'}">2714 Kelly Lane • Pflugerville, TX 78660 • 512-251-9000</text>
	</svg>
</div>
